---
import { getCollection } from 'astro:content';

// Fetch all blog posts
const posts = await getCollection('blog'); // adjust if your collection is named differently
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Sitemap</title>
    <style>
      body { font-family: Arial, sans-serif; line-height: 1.6; padding: 2rem; }
      h1, h2 { margin-top: 2rem; }
      ul { list-style: none; padding-left: 0; }
      li { margin-bottom: 0.5rem; }
      a { color: #4f46e5; text-decoration: none; }
      a:hover { text-decoration: underline; }
    </style>
  </head>
  <body>
    <h1>Sitemap</h1>

    <h2>Pages</h2>
    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/about/">About</a></li>
      <li><a href="/contact/">Contact</a></li>
      <li><a href="/privacy-policy/">Privacy Policy</a></li>
    </ul>

    <h2>Blog Posts</h2>
    <ul>
      {posts.map(post => (
        <li><a href={`/post/${post.slug}/`}>{post.data.title}</a></li>
      ))}
    </ul>
  </body>
</html>
